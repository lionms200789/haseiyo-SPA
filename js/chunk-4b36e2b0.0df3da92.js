(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b36e2b0"],{2532:function(t,r,e){"use strict";var a=e("23e7"),i=e("5a34"),c=e("1d80"),s=e("ab13");a({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(c(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"35b3":function(t,r,e){"use strict";e.r(r);var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(r){t.isLoading=r}}}),e("div",{staticClass:"row py-3"},[e("div",{staticClass:"col-12"},[e("h2",{staticClass:"productTitle"},[t._v(t._s(t.productTitle))]),"Search"===t.currentPath.name?e("div",{staticClass:"searchResult mb-4"},[e("strong",[t._v("共找到"+t._s(t.productType.length)+"項＂"+t._s(t.currentPath.params.keyword)+"＂相關商品")])]):t._e(),e("div",{staticClass:"toolBox"},[e("div",{staticClass:"changeView"},[e("a",{staticClass:"oneCol",attrs:{href:"#"},on:{click:function(r){r.preventDefault(),t.grid="col-12"}}},[e("i",{staticClass:"fas fa-square fa-lg"})]),e("a",{staticClass:"twoCol-mobile",attrs:{href:"#"},on:{click:function(r){r.preventDefault(),t.grid="col-6"}}},[e("i",{staticClass:"fas fa-th-large fa-lg"})]),e("a",{staticClass:"twoCol-desktop",attrs:{href:"#"},on:{click:function(r){r.preventDefault(),t.grid="col-lg-6"}}},[e("i",{staticClass:"fas fa-th-large fa-lg"})]),e("a",{staticClass:"fourCol",attrs:{href:"#"},on:{click:function(r){r.preventDefault(),t.grid="col-lg-3"}}},[e("i",{staticClass:"fas fa-th fa-lg"})])]),e("div",{staticClass:"sorting"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortby,expression:"sortby"}],attrs:{id:"sortby"},on:{change:function(r){var e=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){var r="_value"in t?t._value:t.value;return r}));t.sortby=r.target.multiple?e:e[0]}}},[e("option",{domProps:{value:""}},[t._v("商品排序")]),e("option",{domProps:{value:"priceAsc"}},[t._v("價格由低至高")]),e("option",{domProps:{value:"priceDesc"}},[t._v("價格由高至低")])])])])])]),e("div",{staticClass:"row"},[t.productType.length||t.isLoading?t._e():e("div",{staticClass:"noRelatedItem mx-auto text-center",staticStyle:{height:"50vh",display:"flex","flex-direction":"column","justify-content":"center"}},[e("i",{staticClass:"fa fa-frown",staticStyle:{"font-size":"65px",display:"block",color:"rgba(149, 149, 149, 0.1)"}}),e("div",{staticClass:"my-2"},[t._v("查無與＂"+t._s(t.currentPath.params.keyword)+"＂相關的結果")]),e("a",{staticClass:"btn btn-dark rounded-0 mx-auto text-white my-2",staticStyle:{width:"120px"},on:{click:function(r){return t.$router.back()}}},[t._v("返回上一頁")])]),t._l(t.sortItem,(function(r){return e("productcard",{key:r.id,attrs:{carddata:r,heart:t.wishlist,view:t.grid},on:{cardhandler:t.clickWishList}})}))],2)],1)},i=[],c=(e("99af"),e("4de4"),e("caad"),e("c975"),e("fb6a"),e("a434"),e("b0c0"),e("2532"),e("e915")),s={components:{Productcard:c["a"]},data:function(){return{products:[],productType:[],currentPath:"",isLoading:!1,wishlist:[],sortby:"",grid:""}},methods:{getdata:function(){var t=this,r=t.currentPath.params.category,e=t.currentPath.params.subtype;if("Search"===t.currentPath.name){var a=t.currentPath.params.keyword;t.productType=t.products.filter((function(t){return-1!==t.title.indexOf(a)}))}else t.productType=r&&e?t.products.filter((function(t){return t.category.includes(e)})):t.products.filter((function(t){return t.category===r||t.category.includes(r)}))},clickWishList:function(t){var r=this;r.wishlist.includes(t)?(r.wishlist.splice(r.wishlist.indexOf(t),1),localStorage.setItem("wishlist",JSON.stringify(r.wishlist))):(r.wishlist.push(t),localStorage.setItem("wishlist",JSON.stringify(r.wishlist)))}},computed:{productTitle:function(){var t=this.currentPath.path;switch(t){case"/product/shirts":return"襯衫";case"/product/outer":return"外套";case"/product/pants":return"長褲";case"/product/t-shirt":return"全系列上衣";case"/product/t-shirt/longsleeve":return"長袖上衣";case"/product/t-shirt/shortsleeve":return"短袖上衣";default:return" "}},sortItem:function(){return"priceDesc"===this.sortby?this.productType.slice(0).sort((function(t,r){return r.price-t.price})):"priceAsc"===this.sortby?this.productType.slice(0).sort((function(t,r){return t.price-r.price})):this.productType}},created:function(){var t=this;t.currentPath=t.$route;var r="".concat("https://vue-course-api.herokuapp.com","/api/").concat("haseiyo","/products/all");t.isLoading=!0,t.$http.get(r).then((function(r){t.products=r.data.products,t.getdata(),t.isLoading=!1}))},mounted:function(){localStorage.wishlist&&(this.wishlist=JSON.parse(localStorage.wishlist)||[])},watch:{$route:function(){this.currentPath=this.$route,this.getdata()}}},n=s,o=e("2877"),l=Object(o["a"])(n,a,i,!1,null,null,null);r["default"]=l.exports},"44e7":function(t,r,e){var a=e("861d"),i=e("c6b6"),c=e("b622"),s=c("match");t.exports=function(t){var r;return a(t)&&(void 0!==(r=t[s])?!!r:"RegExp"==i(t))}},"5a34":function(t,r,e){var a=e("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},8418:function(t,r,e){"use strict";var a=e("c04e"),i=e("9bf2"),c=e("5c6c");t.exports=function(t,r,e){var s=a(r);s in t?i.f(t,s,c(0,e)):t[s]=e}},"99af":function(t,r,e){"use strict";var a=e("23e7"),i=e("d039"),c=e("e8b5"),s=e("861d"),n=e("7b0b"),o=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),f=e("b622"),p=e("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",y=p>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),m=d("concat"),b=function(t){if(!s(t))return!1;var r=t[h];return void 0!==r?!!r:c(t)},w=!y||!m;a({target:"Array",proto:!0,forced:w},{concat:function(t){var r,e,a,i,c,s=n(this),d=u(s,0),f=0;for(r=-1,a=arguments.length;r<a;r++)if(c=-1===r?s:arguments[r],b(c)){if(i=o(c.length),f+i>v)throw TypeError(g);for(e=0;e<i;e++,f++)e in c&&l(d,f,c[e])}else{if(f>=v)throw TypeError(g);l(d,f++,c)}return d.length=f,d}})},a434:function(t,r,e){"use strict";var a=e("23e7"),i=e("23cb"),c=e("a691"),s=e("50c4"),n=e("7b0b"),o=e("65f0"),l=e("8418"),u=e("1dde"),d=e("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,v=Math.min,g=9007199254740991,y="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,r){var e,a,u,d,f,p,m=n(this),b=s(m.length),w=i(t,b),C=arguments.length;if(0===C?e=a=0:1===C?(e=0,a=b-w):(e=C-2,a=v(h(c(r),0),b-w)),b+e-a>g)throw TypeError(y);for(u=o(m,a),d=0;d<a;d++)f=w+d,f in m&&l(u,d,m[f]);if(u.length=a,e<a){for(d=w;d<b-a;d++)f=d+a,p=d+e,f in m?m[p]=m[f]:delete m[p];for(d=b;d>b-a+e;d--)delete m[d-1]}else if(e>a)for(d=b-a;d>w;d--)f=d+a-1,p=d+e-1,f in m?m[p]=m[f]:delete m[p];for(d=0;d<e;d++)m[d+w]=arguments[d+2];return m.length=b-a+e,u}})},a640:function(t,r,e){"use strict";var a=e("d039");t.exports=function(t,r){var e=[][t];return!!e&&a((function(){e.call(null,r||function(){throw 1},1)}))}},ab13:function(t,r,e){var a=e("b622"),i=a("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[i]=!1,"/./"[t](r)}catch(a){}}return!1}},b0c0:function(t,r,e){var a=e("83ab"),i=e("9bf2").f,c=Function.prototype,s=c.toString,n=/^\s*function ([^ (]*)/,o="name";!a||o in c||i(c,o,{configurable:!0,get:function(){try{return s.call(this).match(n)[1]}catch(t){return""}}})},c975:function(t,r,e){"use strict";var a=e("23e7"),i=e("4d64").indexOf,c=e("a640"),s=e("ae40"),n=[].indexOf,o=!!n&&1/[1].indexOf(1,-0)<0,l=c("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:o||!l||!u},{indexOf:function(t){return o?n.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},caad:function(t,r,e){"use strict";var a=e("23e7"),i=e("4d64").includes,c=e("44d2"),s=e("ae40"),n=s("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!n},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),c("includes")},e915:function(t,r,e){"use strict";var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"col-sm-6 col-lg-3 mb-3",class:t.view},[e("div",{staticClass:"card border-0 shadow-0 mb-3"},[e("div",{staticClass:"wishlist-icon"},[e("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.collection(t.carddata.id)}}},[e("i",{class:t.heartStatus})])]),e("a",{staticClass:"card-img-wrapper",attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.goDetail(t.carddata.id)}}},[t.carddata.is_enabled?t._e():e("div",{staticClass:"soldout-msg"},[t._v("SOLD OUT")]),e("img",{staticClass:"card-image",style:t.soldout,attrs:{src:t.carddata.imageUrl}})]),e("div",{staticClass:"card-body p-0"},[e("h5",{staticClass:"card-title"},[e("a",{staticClass:"text-dark text-decoration-none",attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.goDetail(t.carddata.id)}}},[t._v(t._s(t.carddata.title))])]),e("div",{staticClass:"price"},[t.carddata.price?t._e():e("div",[t._v("NT."+t._s(t._f("currency")(t.carddata.origin_price)))]),t.carddata.price?e("del",[t._v("NT."+t._s(t._f("currency")(t.carddata.origin_price)))]):t._e(),t.carddata.price?e("div",{staticClass:"text-danger"},[t._v("NT"+t._s(t._f("currency")(t.carddata.price)))]):t._e()])])])])},i=[],c=(e("caad"),e("2532"),{props:["carddata","heart","view"],data:function(){return{}},methods:{goDetail:function(t){var r=this;r.carddata.is_enabled&&r.$router.push("/productdetail/".concat(t))},collection:function(t){var r=this;r.$emit("cardhandler",t)}},computed:{heartStatus:function(){return this.heart.includes(this.carddata.id)?"fas fa-heart fa-lg":"far fa-heart fa-lg"},soldout:function(){return 0===this.carddata.is_enabled?"opacity:0.7":""}}}),s=c,n=e("2877"),o=Object(n["a"])(s,a,i,!1,null,null,null);r["a"]=o.exports},fb6a:function(t,r,e){"use strict";var a=e("23e7"),i=e("861d"),c=e("e8b5"),s=e("23cb"),n=e("50c4"),o=e("fc6a"),l=e("8418"),u=e("b622"),d=e("1dde"),f=e("ae40"),p=d("slice"),h=f("slice",{ACCESSORS:!0,0:0,1:2}),v=u("species"),g=[].slice,y=Math.max;a({target:"Array",proto:!0,forced:!p||!h},{slice:function(t,r){var e,a,u,d=o(this),f=n(d.length),p=s(t,f),h=s(void 0===r?f:r,f);if(c(d)&&(e=d.constructor,"function"!=typeof e||e!==Array&&!c(e.prototype)?i(e)&&(e=e[v],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return g.call(d,p,h);for(a=new(void 0===e?Array:e)(y(h-p,0)),u=0;p<h;p++,u++)p in d&&l(a,u,d[p]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-4b36e2b0.0df3da92.js.map